!function(){"use strict";function t(t,e){const s=document.querySelector(t);s.innerHTML="";for(let t of e){const{id:e,taskText:o,status:n}=t,c=n?"active":"",i=`\n            <li class="todo__item ${c}" id="${e}">\n              <div class="todo__item-task">\n                    <div class="todo__item-check-wrapper">\n                        <div class="todo__item-check ${c}"></div>\n                    </div>\n                    ${o}\n              </div>\n                <div class="action-icons">\n                        <svg class="icon change-icon" data-action="change">\n                            <use href="./images/svgsprite/sprite.symbol.svg#change"></use>\n                        </svg>\n\n                        <svg class="icon trash-icon" data-action="remove">\n                            <use href="./images/svgsprite/sprite.symbol.svg#trash"></use>\n                        </svg>\n                </div>\n            </li>\n        `;s.insertAdjacentHTML("beforeend",i)}}function e(t,e){localStorage.setItem(t,JSON.stringify(e))}let s=("task",JSON.parse(localStorage.getItem("task"))||[]);t(".todo__list",s),c(".todo__list");const o=new class{constructor(t,e,s,o,n){this.trigger=document.querySelector(t),this.overlay=document.querySelector(e),this.content=document.querySelector(s),this.overlayClass=o,this.contentClass=n,this.openModal=this.openModal.bind(this),this.trigger.addEventListener("click",this.openModal)}openModal(){this.overlay.classList.add(this.overlayClass),this.content.classList.add(this.contentClass)}closeModal(){this.overlay.classList.remove(this.overlayClass),this.content.classList.remove(this.contentClass)}}(".todo__add-taskBtn",".todo-modal",".todo-modal__content","active","active");window.addEventListener("click",(t=>{const e=t.target;document.querySelector(".todo-modal").classList.contains("active")&&(e.classList.contains("todo-modal")&&o.closeModal(),"chancel"===e.getAttribute("data-modal-btn")&&o.closeModal())})),document.addEventListener("keydown",(t=>"Escape"===t.code?o.closeModal():null));const n=document.querySelector(".todo-modal__form");function c(t){if(0===document.querySelector(t).children.length&&0===s.length)!function(t){const e=document.querySelector(".container"),s=document.createElement("div");s.classList.add("empty"),s.textContent="Empty";const o=document.createElement("img");o.classList.add("empty__image"),o.src="./images/Detective-check-footprint.png",s.append(o),e.append(s)}();else{const t=document.querySelector(".empty");t&&t.remove()}}n.addEventListener("submit",(function(o){o.preventDefault();const i=document.querySelector(".todo-modal__input").value.trim();if(!i)return;const a={id:Date.now(),taskText:i,status:!1};s.push(a),e("task",s),t(".todo__list",s),n.reset(),c(".todo__list")})),document.querySelector(".todo__list").addEventListener("click",(function(t){const o=t.target,n=o.closest(".todo__item-check-wrapper"),i=o.closest(".todo__item-task"),a=o.closest(".todo__item");if(!a)return;const d=+a.id,l=s.findIndex((t=>t.id===d));o!==i&&o!==n||(s[l].status=!s[l].status,i.closest(".todo__item").classList.toggle("active"),i.querySelector(".todo__item-check").classList.toggle("active")),"remove"===o.dataset.action&&(s.splice(l,1),a.remove(),c(".todo__list")),e("task",s)}))}();