!function(){"use strict";function t(t,e){const s=document.querySelector(t);s.innerHTML="";for(let t of e){const{id:e,taskText:o,status:n}=t,c=n?"active":"",a=`\n            <li class="todo__item ${c}" id="${e}">\n              <div class="todo__item-task">\n                    <div class="todo__item-check-wrapper">\n                        <div class="todo__item-check ${c}"></div>\n                    </div>\n                    ${o}\n              </div>\n                <div class="action-icons">\n                        <svg class="icon change-icon" data-action="change">\n                            <use href="./images/svgsprite/sprite.symbol.svg#change"></use>\n                        </svg>\n\n                        <svg class="icon trash-icon" data-action="remove">\n                            <use href="./images/svgsprite/sprite.symbol.svg#trash"></use>\n                        </svg>\n                </div>\n            </li>\n        `;s.insertAdjacentHTML("beforeend",a)}}function e(t,e){localStorage.setItem(t,JSON.stringify(e))}let s=("task",JSON.parse(localStorage.getItem("task"))||[]);t(".todo__list",s);const o=new class{constructor(t,e,s,o,n){this.trigger=document.querySelector(t),this.overlay=document.querySelector(e),this.content=document.querySelector(s),this.overlayClass=o,this.contentClass=n,this.openModal=this.openModal.bind(this),this.trigger.addEventListener("click",this.openModal)}openModal(){this.overlay.classList.add(this.overlayClass),this.content.classList.add(this.contentClass)}closeModal(){this.overlay.classList.remove(this.overlayClass),this.content.classList.remove(this.contentClass)}}(".todo__add-taskBtn",".todo-modal",".todo-modal__content","active","active");window.addEventListener("click",(t=>{const e=t.target;document.querySelector(".todo-modal").classList.contains("active")&&(e.classList.contains("todo-modal")&&o.closeModal(),"chancel"===e.getAttribute("data-modal-btn")&&o.closeModal())})),document.addEventListener("keydown",(t=>"Escape"===t.code?o.closeModal():null));const n=document.querySelector(".todo-modal__form");n.addEventListener("submit",(function(o){o.preventDefault();const c=document.querySelector(".todo-modal__input").value.trim();if(!c)return;const a={id:Date.now(),taskText:c,status:!1};s.push(a),e("task",s),t(".todo__list",s),n.reset()})),document.querySelector(".todo__list").addEventListener("click",(function(t){const o=t.target,n=o.closest(".todo__item-check-wrapper"),c=o.closest(".todo__item-task"),a=o.closest(".todo__item");if(!a)return;const i=+a.id,d=s.findIndex((t=>t.id===i));o!==c&&o!==n||(s[d].status=!s[d].status,c.closest(".todo__item").classList.toggle("active"),c.querySelector(".todo__item-check").classList.toggle("active")),"remove"===o.dataset.action&&(s.splice(d,1),a.remove()),e("task",s)}))}();